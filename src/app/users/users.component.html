<div class="users-container">
  <div class="header">
    <h2>× ×™×”×•×œ ××©×ª××©×™×</h2>
    <button class="toggle-mode-btn" (click)="toggleQueryMode()">
      {{ useLiveQuery ? 'ğŸ”´ Live Mode' : 'âšª Regular Mode' }}
    </button>
  </div>

  <app-base-table
    [data]="users"
    [loading]="loading"
    [totalRecords]="totalRecords"
    [currentPage]="currentPage"
    [pageSize]="pageSize"
    [sortable]="true"
    [showFilter]="true"
    [showPagination]="true"
    [showActions]="isAdmin()"
    [showAdd]="isAdmin()"
    [readonly]="!isAdmin()"
    [addButtonText]="'×”×•×¡×£ ××©×ª××©'"
    (onSort)="onSort($event)"
    (onFilter)="onFilter($event)"
    (onPageChange)="onPageChange($event)"
    (onRefresh)="onRefresh()"
    (onAdd)="addUser()"
    (onEdit)="editUser($event)"
    (onDelete)="deleteUser($event)"
    [hiddenColumns]="['id', 'password']"
  >
    <!-- Custom column for admin status -->
    <ng-template appTableColumn="admin" header="×× ×”×œ" let-row>
      <span [style.color]="row.admin ? 'green' : 'gray'">
        {{ row.admin ? 'âœ“' : 'âœ—' }}
      </span>
    </ng-template>

    <!-- Custom column for manager status -->
    <ng-template appTableColumn="manager" header="×× ×”×œ" let-row>
      <span [style.color]="row.manager ? 'blue' : 'gray'">
        {{ row.manager ? 'âœ“' : 'âœ—' }}
      </span>
    </ng-template>

    <!-- Custom column for disabled status -->
    <ng-template appTableColumn="disabled" header="××•×©×‘×ª" let-row>
      <span [style.color]="row.disabled ? 'red' : 'green'">
        {{ row.disabled ? '××•×©×‘×ª' : '×¤×¢×™×œ' }}
      </span>
    </ng-template>

    <!-- Custom column for disabled status -->
    <ng-template appTableColumn="createDate" header="×ª××¨×™×š ×™×¦×™×¨×”" let-row>
      <span>
        {{ row.createDate | date: 'HH:mm dd/MM/yyyy' }}
      </span>
    </ng-template>
    
  </app-base-table>
</div>
